{"remainingRequest":"/Users/huangweiji/Desktop/code/git_project/-Dragon-Boat-Festival/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangweiji/Desktop/code/git_project/-Dragon-Boat-Festival/node_modules/vue-baidu-map/components/map/Map.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huangweiji/Desktop/code/git_project/-Dragon-Boat-Festival/node_modules/vue-baidu-map/components/map/Map.vue","mtime":1639105456238},{"path":"/Users/huangweiji/Desktop/code/git_project/-Dragon-Boat-Festival/node_modules/babel-loader/lib/index.js","mtime":1639105455772},{"path":"/Users/huangweiji/Desktop/code/git_project/-Dragon-Boat-Festival/node_modules/cache-loader/dist/cjs.js","mtime":1639105455449},{"path":"/Users/huangweiji/Desktop/code/git_project/-Dragon-Boat-Festival/node_modules/vue-loader/lib/index.js","mtime":1639105455859}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBiaW5kRXZlbnRzIGZyb20gJy4uL2Jhc2UvYmluZEV2ZW50LmpzJwppbXBvcnQge2NoZWNrVHlwZX0gZnJvbSAnLi4vYmFzZS91dGlsLmpzJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdibS1tYXAnLAogIHByb3BzOiB7CiAgICBhazogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBjZW50ZXI6IHsKICAgICAgdHlwZTogW09iamVjdCwgU3RyaW5nXQogICAgfSwKICAgIHpvb206IHsKICAgICAgdHlwZTogTnVtYmVyCiAgICB9LAogICAgbWluWm9vbTogewogICAgICB0eXBlOiBOdW1iZXIKICAgIH0sCiAgICBtYXhab29tOiB7CiAgICAgIHR5cGU6IE51bWJlcgogICAgfSwKICAgIGhpZ2hSZXNvbHV0aW9uOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBtYXBDbGljazogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgbWFwVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBkcmFnZ2luZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgc2Nyb2xsV2hlZWxab29tOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZG91YmxlQ2xpY2tab29tOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBrZXlib2FyZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgaW5lcnRpYWxEcmFnZ2luZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgY29udGludW91c1pvb206IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIHBpbmNoVG9ab29tOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBhdXRvUmVzaXplOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICB0aGVtZTogewogICAgICB0eXBlOiBBcnJheQogICAgfSwKICAgIG1hcFN0eWxlOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGNlbnRlciAodmFsLCBvbGRWYWwpIHsKICAgICAgY29uc3Qge21hcCwgem9vbX0gPSB0aGlzCiAgICAgIGlmIChjaGVja1R5cGUodmFsKSA9PT0gJ1N0cmluZycgJiYgdmFsICE9PSBvbGRWYWwpIHsKICAgICAgICBtYXAuY2VudGVyQW5kWm9vbSh2YWwsIHpvb20pCiAgICAgIH0KICAgIH0sCiAgICAnY2VudGVyLmxuZycgKHZhbCwgb2xkVmFsKSB7CiAgICAgIGNvbnN0IHtCTWFwLCBtYXAsIHpvb20sIGNlbnRlcn0gPSB0aGlzCiAgICAgIGlmICh2YWwgIT09IG9sZFZhbCAmJiB2YWwgPj0gLTE4MCAmJiB2YWwgPD0gMTgwKSB7CiAgICAgICAgbWFwLmNlbnRlckFuZFpvb20obmV3IEJNYXAuUG9pbnQodmFsLCBjZW50ZXIubGF0KSwgem9vbSkKICAgICAgfQogICAgfSwKICAgICdjZW50ZXIubGF0JyAodmFsLCBvbGRWYWwpIHsKICAgICAgY29uc3Qge0JNYXAsIG1hcCwgem9vbSwgY2VudGVyfSA9IHRoaXMKICAgICAgaWYgKHZhbCAhPT0gb2xkVmFsICYmIHZhbCA+PSAtNzQgJiYgdmFsIDw9IDc0KSB7CiAgICAgICAgbWFwLmNlbnRlckFuZFpvb20obmV3IEJNYXAuUG9pbnQoY2VudGVyLmxuZywgdmFsKSwgem9vbSkKICAgICAgfQogICAgfSwKICAgIHpvb20gKHZhbCwgb2xkVmFsKSB7CiAgICAgIGNvbnN0IHttYXB9ID0gdGhpcwogICAgICBpZiAodmFsICE9PSBvbGRWYWwgJiYgdmFsID49IDMgJiYgdmFsIDw9IDE5KSB7CiAgICAgICAgbWFwLnNldFpvb20odmFsKQogICAgICB9CiAgICB9LAogICAgbWluWm9vbSAodmFsKSB7CiAgICAgIGNvbnN0IHttYXB9ID0gdGhpcwogICAgICBtYXAuc2V0TWluWm9vbSh2YWwpCiAgICB9LAogICAgbWF4Wm9vbSAodmFsKSB7CiAgICAgIGNvbnN0IHttYXB9ID0gdGhpcwogICAgICBtYXAuc2V0TWF4Wm9vbSh2YWwpCiAgICB9LAogICAgaGlnaFJlc29sdXRpb24gKCkgewogICAgICB0aGlzLnJlc2V0KCkKICAgIH0sCiAgICBtYXBDbGljayAoKSB7CiAgICAgIHRoaXMucmVzZXQoKQogICAgfSwKICAgIG1hcFR5cGUgKHZhbCkgewogICAgICBjb25zdCB7bWFwfSA9IHRoaXMKICAgICAgbWFwLnNldE1hcFR5cGUoZ2xvYmFsW3ZhbF0pCiAgICB9LAogICAgZHJhZ2dpbmcgKHZhbCkgewogICAgICBjb25zdCB7bWFwfSA9IHRoaXMKICAgICAgdmFsID8gbWFwLmVuYWJsZURyYWdnaW5nKCkgOiBtYXAuZGlzYWJsZURyYWdnaW5nKCkKICAgIH0sCiAgICBzY3JvbGxXaGVlbFpvb20gKHZhbCkgewogICAgICBjb25zdCB7bWFwfSA9IHRoaXMKICAgICAgdmFsID8gbWFwLmVuYWJsZVNjcm9sbFdoZWVsWm9vbSgpIDogbWFwLmRpc2FibGVTY3JvbGxXaGVlbFpvb20oKQogICAgfSwKICAgIGRvdWJsZUNsaWNrWm9vbSAodmFsKSB7CiAgICAgIGNvbnN0IHttYXB9ID0gdGhpcwogICAgICB2YWwgPyBtYXAuZW5hYmxlRG91YmxlQ2xpY2tab29tKCkgOiBtYXAuZGlzYWJsZURvdWJsZUNsaWNrWm9vbSgpCiAgICB9LAogICAga2V5Ym9hcmQgKHZhbCkgewogICAgICBjb25zdCB7bWFwfSA9IHRoaXMKICAgICAgdmFsID8gbWFwLmVuYWJsZUtleWJvYXJkKCkgOiBtYXAuZGlzYWJsZUtleWJvYXJkKCkKICAgIH0sCiAgICBpbmVydGlhbERyYWdnaW5nICh2YWwpIHsKICAgICAgY29uc3Qge21hcH0gPSB0aGlzCiAgICAgIHZhbCA/IG1hcC5lbmFibGVJbmVydGlhbERyYWdnaW5nKCkgOiBtYXAuZGlzYWJsZUluZXJ0aWFsRHJhZ2dpbmcoKQogICAgfSwKICAgIGNvbnRpbnVvdXNab29tICh2YWwpIHsKICAgICAgY29uc3Qge21hcH0gPSB0aGlzCiAgICAgIHZhbCA/IG1hcC5lbmFibGVDb250aW51b3VzWm9vbSgpIDogbWFwLmRpc2FibGVDb250aW51b3VzWm9vbSgpCiAgICB9LAogICAgcGluY2hUb1pvb20gKHZhbCkgewogICAgICBjb25zdCB7bWFwfSA9IHRoaXMKICAgICAgdmFsID8gbWFwLmVuYWJsZVBpbmNoVG9ab29tKCkgOiBtYXAuZGlzYWJsZVBpbmNoVG9ab29tKCkKICAgIH0sCiAgICBhdXRvUmVzaXplICh2YWwpIHsKICAgICAgY29uc3Qge21hcH0gPSB0aGlzCiAgICAgIHZhbCA/IG1hcC5lbmFibGVBdXRvUmVzaXplKCkgOiBtYXAuZGlzYWJsZUF1dG9SZXNpemUoKQogICAgfSwKICAgIHRoZW1lICh2YWwpIHsKICAgICAgY29uc3Qge21hcH0gPSB0aGlzCiAgICAgIG1hcC5zZXRNYXBTdHlsZSh7c3R5bGVKc29uOiB2YWx9KQogICAgfSwKICAgICdtYXBTdHlsZS5mZWF0dXJlcyc6IHsKICAgICAgaGFuZGxlciAodmFsLCBvbGRWYWwpIHsKICAgICAgICBjb25zdCB7bWFwLCBtYXBTdHlsZX0gPSB0aGlzCiAgICAgICAgY29uc3Qge3N0eWxlLCBzdHlsZUpzb259ID0gbWFwU3R5bGUKICAgICAgICBtYXAuc2V0TWFwU3R5bGUoewogICAgICAgICAgc3R5bGVKc29uLAogICAgICAgICAgZmVhdHVyZXM6IHZhbCwKICAgICAgICAgIHN0eWxlCiAgICAgICAgfSkKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgICdtYXBTdHlsZS5zdHlsZScgKHZhbCwgb2xkVmFsKSB7CiAgICAgIGNvbnN0IHttYXAsIG1hcFN0eWxlfSA9IHRoaXMKICAgICAgY29uc3Qge2ZlYXR1cmVzLCBzdHlsZUpzb259ID0gbWFwU3R5bGUKICAgICAgbWFwLnNldE1hcFN0eWxlKHsKICAgICAgICBzdHlsZUpzb24sCiAgICAgICAgZmVhdHVyZXMsCiAgICAgICAgc3R5bGU6IHZhbAogICAgICB9KQogICAgfSwKICAgICdtYXBTdHlsZS5zdHlsZUpzb24nOiB7CiAgICAgIGhhbmRsZXIgKHZhbCwgb2xkVmFsKSB7CiAgICAgICAgY29uc3Qge21hcCwgbWFwU3R5bGV9ID0gdGhpcwogICAgICAgIGNvbnN0IHtmZWF0dXJlcywgc3R5bGV9ID0gbWFwU3R5bGUKICAgICAgICBtYXAuc2V0TWFwU3R5bGUoewogICAgICAgICAgc3R5bGVKc29uOiB2YWwsCiAgICAgICAgICBmZWF0dXJlcywKICAgICAgICAgIHN0eWxlCiAgICAgICAgfSkKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgIG1hcFN0eWxlICh2YWwpIHsKICAgICAgY29uc3Qge21hcCwgdGhlbWV9ID0gdGhpcwogICAgICAhdGhlbWUgJiYgbWFwLnNldE1hcFN0eWxlKHZhbCkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNldE1hcE9wdGlvbnMgKCkgewogICAgICBjb25zdCB7bWFwLCBtaW5ab29tLCBtYXhab29tLCBtYXBUeXBlLCBkcmFnZ2luZywgc2Nyb2xsV2hlZWxab29tLCBkb3VibGVDbGlja1pvb20sIGtleWJvYXJkLCBpbmVydGlhbERyYWdnaW5nLCBjb250aW51b3VzWm9vbSwgcGluY2hUb1pvb20sIGF1dG9SZXNpemV9ID0gdGhpcwogICAgICBtaW5ab29tICYmIG1hcC5zZXRNaW5ab29tKG1pblpvb20pCiAgICAgIG1heFpvb20gJiYgbWFwLnNldE1heFpvb20obWF4Wm9vbSkKICAgICAgbWFwVHlwZSAmJiBtYXAuc2V0TWFwVHlwZShnbG9iYWxbbWFwVHlwZV0pCiAgICAgIGRyYWdnaW5nID8gbWFwLmVuYWJsZURyYWdnaW5nKCkgOiBtYXAuZGlzYWJsZURyYWdnaW5nKCkKICAgICAgc2Nyb2xsV2hlZWxab29tID8gbWFwLmVuYWJsZVNjcm9sbFdoZWVsWm9vbSgpIDogbWFwLmRpc2FibGVTY3JvbGxXaGVlbFpvb20oKQogICAgICBkb3VibGVDbGlja1pvb20gPyBtYXAuZW5hYmxlRG91YmxlQ2xpY2tab29tKCkgOiBtYXAuZGlzYWJsZURvdWJsZUNsaWNrWm9vbSgpCiAgICAgIGtleWJvYXJkID8gbWFwLmVuYWJsZUtleWJvYXJkKCkgOiBtYXAuZGlzYWJsZUtleWJvYXJkKCkKICAgICAgaW5lcnRpYWxEcmFnZ2luZyA/IG1hcC5lbmFibGVJbmVydGlhbERyYWdnaW5nKCkgOiBtYXAuZGlzYWJsZUluZXJ0aWFsRHJhZ2dpbmcoKQogICAgICBjb250aW51b3VzWm9vbSA/IG1hcC5lbmFibGVDb250aW51b3VzWm9vbSgpIDogbWFwLmRpc2FibGVDb250aW51b3VzWm9vbSgpCiAgICAgIHBpbmNoVG9ab29tID8gbWFwLmVuYWJsZVBpbmNoVG9ab29tKCkgOiBtYXAuZGlzYWJsZVBpbmNoVG9ab29tKCkKICAgICAgYXV0b1Jlc2l6ZSA/IG1hcC5lbmFibGVBdXRvUmVzaXplKCkgOiBtYXAuZGlzYWJsZUF1dG9SZXNpemUoKQogICAgfSwKICAgIGluaXQgKEJNYXApIHsKICAgICAgaWYgKHRoaXMubWFwKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgbGV0ICRlbCA9IHRoaXMuJHJlZnMudmlldwogICAgICBmb3IgKGxldCAkbm9kZSBvZiB0aGlzLiRzbG90cy5kZWZhdWx0IHx8IFtdKSB7CiAgICAgICAgaWYgKCRub2RlLmNvbXBvbmVudE9wdGlvbnMgJiYgJG5vZGUuY29tcG9uZW50T3B0aW9ucy50YWcgPT09ICdibS12aWV3JykgewogICAgICAgICAgdGhpcy5oYXNCbVZpZXcgPSB0cnVlCiAgICAgICAgICAkZWwgPSAkbm9kZS5lbG0KICAgICAgICB9CiAgICAgIH0KICAgICAgY29uc3QgbWFwID0gbmV3IEJNYXAuTWFwKCRlbCwge2VuYWJsZUhpZ2hSZXNvbHV0aW9uOiB0aGlzLmhpZ2hSZXNvbHV0aW9uLCBlbmFibGVNYXBDbGljazogdGhpcy5tYXBDbGlja30pCiAgICAgIHRoaXMubWFwID0gbWFwCiAgICAgIGNvbnN0IHtzZXRNYXBPcHRpb25zLCB6b29tLCBnZXRDZW50ZXJQb2ludCwgdGhlbWUsIG1hcFN0eWxlfSA9IHRoaXMKICAgICAgdGhlbWUgPyBtYXAuc2V0TWFwU3R5bGUoe3N0eWxlSnNvbjogdGhlbWV9KSA6IG1hcC5zZXRNYXBTdHlsZShtYXBTdHlsZSkKICAgICAgc2V0TWFwT3B0aW9ucygpCiAgICAgIGJpbmRFdmVudHMuY2FsbCh0aGlzLCBtYXApCiAgICAgIC8vIOatpOWkhOW8uuihjOWIneWni+WMluS4gOasoeWcsOWbviDlm57pgb/kuIDkuKrnlLHkuo7plJnor6/nmoQgY2VudGVyIOWtl+espuS4suWvvOiHtOWIneWni+WMluWksei0peaKm+WHuueahOmUmeivrwogICAgICBtYXAucmVzZXQoKQogICAgICBtYXAuY2VudGVyQW5kWm9vbShnZXRDZW50ZXJQb2ludCgpLCB6b29tKQogICAgICB0aGlzLiRlbWl0KCdyZWFkeScsIHtCTWFwLCBtYXB9KQogICAgICAvLyBEZWJ1ZwogICAgICAvLyBnbG9iYWwubWFwID0gbWFwCiAgICAgIC8vIGdsb2JhbC5tYXBDb21wb25lbnQgPSB0aGlzCiAgICB9LAogICAgZ2V0Q2VudGVyUG9pbnQgKCkgewogICAgICBjb25zdCB7Y2VudGVyLCBCTWFwfSA9IHRoaXMKICAgICAgc3dpdGNoIChjaGVja1R5cGUoY2VudGVyKSkgewogICAgICAgIGNhc2UgJ1N0cmluZyc6IHJldHVybiBjZW50ZXIKICAgICAgICBjYXNlICdPYmplY3QnOiByZXR1cm4gbmV3IEJNYXAuUG9pbnQoY2VudGVyLmxuZywgY2VudGVyLmxhdCkKICAgICAgICBkZWZhdWx0OiByZXR1cm4gbmV3IEJNYXAuUG9pbnQoKQogICAgICB9CiAgICB9LAogICAgaW5pdE1hcCAoQk1hcCkgewogICAgICB0aGlzLkJNYXAgPSBCTWFwCiAgICAgIHRoaXMuaW5pdChCTWFwKQogICAgfSwKICAgIGdldE1hcFNjcmlwdCAoKSB7CiAgICAgIGlmICghZ2xvYmFsLkJNYXApIHsKICAgICAgICBjb25zdCBhayA9IHRoaXMuYWsgfHwgdGhpcy5fQk1hcCgpLmFrCiAgICAgICAgZ2xvYmFsLkJNYXAgPSB7fQogICAgICAgIGdsb2JhbC5CTWFwLl9wcmVsb2FkZXIgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICBnbG9iYWwuX2luaXRCYWlkdU1hcCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmVzb2x2ZShnbG9iYWwuQk1hcCkKICAgICAgICAgICAgZ2xvYmFsLmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoJHNjcmlwdCkKICAgICAgICAgICAgZ2xvYmFsLkJNYXAuX3ByZWxvYWRlciA9IG51bGwKICAgICAgICAgICAgZ2xvYmFsLl9pbml0QmFpZHVNYXAgPSBudWxsCiAgICAgICAgICB9CiAgICAgICAgICBjb25zdCAkc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JykKICAgICAgICAgIGdsb2JhbC5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCRzY3JpcHQpCiAgICAgICAgICAkc2NyaXB0LnNyYyA9IGBodHRwczovL2FwaS5tYXAuYmFpZHUuY29tL2FwaT92PTIuMCZhaz0ke2FrfSZjYWxsYmFjaz1faW5pdEJhaWR1TWFwYAogICAgICAgIH0pCiAgICAgICAgcmV0dXJuIGdsb2JhbC5CTWFwLl9wcmVsb2FkZXIKICAgICAgfSBlbHNlIGlmICghZ2xvYmFsLkJNYXAuX3ByZWxvYWRlcikgewogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZ2xvYmFsLkJNYXApCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGdsb2JhbC5CTWFwLl9wcmVsb2FkZXIKICAgICAgfQogICAgfSwKICAgIHJlc2V0ICgpIHsKICAgICAgY29uc3Qge2dldE1hcFNjcmlwdCwgaW5pdE1hcH0gPSB0aGlzCiAgICAgIGdldE1hcFNjcmlwdCgpCiAgICAgICAgLnRoZW4oaW5pdE1hcCkKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5yZXNldCgpCiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGhhc0JtVmlldzogZmFsc2UKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Map.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Map.vue","sourceRoot":"node_modules/vue-baidu-map/components/map","sourcesContent":["<template>\n<div>\n  <div v-if=\"!hasBmView\" ref=\"view\" style=\"width: 100%; height: 100%\">\n  </div>\n  <slot></slot>\n</div>\n</template>\n\n<script>\nimport bindEvents from '../base/bindEvent.js'\nimport {checkType} from '../base/util.js'\n\nexport default {\n  name: 'bm-map',\n  props: {\n    ak: {\n      type: String\n    },\n    center: {\n      type: [Object, String]\n    },\n    zoom: {\n      type: Number\n    },\n    minZoom: {\n      type: Number\n    },\n    maxZoom: {\n      type: Number\n    },\n    highResolution: {\n      type: Boolean,\n      default: true\n    },\n    mapClick: {\n      type: Boolean,\n      default: true\n    },\n    mapType: {\n      type: String\n    },\n    dragging: {\n      type: Boolean,\n      default: true\n    },\n    scrollWheelZoom: {\n      type: Boolean,\n      default: false\n    },\n    doubleClickZoom: {\n      type: Boolean,\n      default: true\n    },\n    keyboard: {\n      type: Boolean,\n      default: true\n    },\n    inertialDragging: {\n      type: Boolean,\n      default: true\n    },\n    continuousZoom: {\n      type: Boolean,\n      default: true\n    },\n    pinchToZoom: {\n      type: Boolean,\n      default: true\n    },\n    autoResize: {\n      type: Boolean,\n      default: true\n    },\n    theme: {\n      type: Array\n    },\n    mapStyle: {\n      type: Object\n    }\n  },\n  watch: {\n    center (val, oldVal) {\n      const {map, zoom} = this\n      if (checkType(val) === 'String' && val !== oldVal) {\n        map.centerAndZoom(val, zoom)\n      }\n    },\n    'center.lng' (val, oldVal) {\n      const {BMap, map, zoom, center} = this\n      if (val !== oldVal && val >= -180 && val <= 180) {\n        map.centerAndZoom(new BMap.Point(val, center.lat), zoom)\n      }\n    },\n    'center.lat' (val, oldVal) {\n      const {BMap, map, zoom, center} = this\n      if (val !== oldVal && val >= -74 && val <= 74) {\n        map.centerAndZoom(new BMap.Point(center.lng, val), zoom)\n      }\n    },\n    zoom (val, oldVal) {\n      const {map} = this\n      if (val !== oldVal && val >= 3 && val <= 19) {\n        map.setZoom(val)\n      }\n    },\n    minZoom (val) {\n      const {map} = this\n      map.setMinZoom(val)\n    },\n    maxZoom (val) {\n      const {map} = this\n      map.setMaxZoom(val)\n    },\n    highResolution () {\n      this.reset()\n    },\n    mapClick () {\n      this.reset()\n    },\n    mapType (val) {\n      const {map} = this\n      map.setMapType(global[val])\n    },\n    dragging (val) {\n      const {map} = this\n      val ? map.enableDragging() : map.disableDragging()\n    },\n    scrollWheelZoom (val) {\n      const {map} = this\n      val ? map.enableScrollWheelZoom() : map.disableScrollWheelZoom()\n    },\n    doubleClickZoom (val) {\n      const {map} = this\n      val ? map.enableDoubleClickZoom() : map.disableDoubleClickZoom()\n    },\n    keyboard (val) {\n      const {map} = this\n      val ? map.enableKeyboard() : map.disableKeyboard()\n    },\n    inertialDragging (val) {\n      const {map} = this\n      val ? map.enableInertialDragging() : map.disableInertialDragging()\n    },\n    continuousZoom (val) {\n      const {map} = this\n      val ? map.enableContinuousZoom() : map.disableContinuousZoom()\n    },\n    pinchToZoom (val) {\n      const {map} = this\n      val ? map.enablePinchToZoom() : map.disablePinchToZoom()\n    },\n    autoResize (val) {\n      const {map} = this\n      val ? map.enableAutoResize() : map.disableAutoResize()\n    },\n    theme (val) {\n      const {map} = this\n      map.setMapStyle({styleJson: val})\n    },\n    'mapStyle.features': {\n      handler (val, oldVal) {\n        const {map, mapStyle} = this\n        const {style, styleJson} = mapStyle\n        map.setMapStyle({\n          styleJson,\n          features: val,\n          style\n        })\n      },\n      deep: true\n    },\n    'mapStyle.style' (val, oldVal) {\n      const {map, mapStyle} = this\n      const {features, styleJson} = mapStyle\n      map.setMapStyle({\n        styleJson,\n        features,\n        style: val\n      })\n    },\n    'mapStyle.styleJson': {\n      handler (val, oldVal) {\n        const {map, mapStyle} = this\n        const {features, style} = mapStyle\n        map.setMapStyle({\n          styleJson: val,\n          features,\n          style\n        })\n      },\n      deep: true\n    },\n    mapStyle (val) {\n      const {map, theme} = this\n      !theme && map.setMapStyle(val)\n    }\n  },\n  methods: {\n    setMapOptions () {\n      const {map, minZoom, maxZoom, mapType, dragging, scrollWheelZoom, doubleClickZoom, keyboard, inertialDragging, continuousZoom, pinchToZoom, autoResize} = this\n      minZoom && map.setMinZoom(minZoom)\n      maxZoom && map.setMaxZoom(maxZoom)\n      mapType && map.setMapType(global[mapType])\n      dragging ? map.enableDragging() : map.disableDragging()\n      scrollWheelZoom ? map.enableScrollWheelZoom() : map.disableScrollWheelZoom()\n      doubleClickZoom ? map.enableDoubleClickZoom() : map.disableDoubleClickZoom()\n      keyboard ? map.enableKeyboard() : map.disableKeyboard()\n      inertialDragging ? map.enableInertialDragging() : map.disableInertialDragging()\n      continuousZoom ? map.enableContinuousZoom() : map.disableContinuousZoom()\n      pinchToZoom ? map.enablePinchToZoom() : map.disablePinchToZoom()\n      autoResize ? map.enableAutoResize() : map.disableAutoResize()\n    },\n    init (BMap) {\n      if (this.map) {\n        return\n      }\n      let $el = this.$refs.view\n      for (let $node of this.$slots.default || []) {\n        if ($node.componentOptions && $node.componentOptions.tag === 'bm-view') {\n          this.hasBmView = true\n          $el = $node.elm\n        }\n      }\n      const map = new BMap.Map($el, {enableHighResolution: this.highResolution, enableMapClick: this.mapClick})\n      this.map = map\n      const {setMapOptions, zoom, getCenterPoint, theme, mapStyle} = this\n      theme ? map.setMapStyle({styleJson: theme}) : map.setMapStyle(mapStyle)\n      setMapOptions()\n      bindEvents.call(this, map)\n      // 此处强行初始化一次地图 回避一个由于错误的 center 字符串导致初始化失败抛出的错误\n      map.reset()\n      map.centerAndZoom(getCenterPoint(), zoom)\n      this.$emit('ready', {BMap, map})\n      // Debug\n      // global.map = map\n      // global.mapComponent = this\n    },\n    getCenterPoint () {\n      const {center, BMap} = this\n      switch (checkType(center)) {\n        case 'String': return center\n        case 'Object': return new BMap.Point(center.lng, center.lat)\n        default: return new BMap.Point()\n      }\n    },\n    initMap (BMap) {\n      this.BMap = BMap\n      this.init(BMap)\n    },\n    getMapScript () {\n      if (!global.BMap) {\n        const ak = this.ak || this._BMap().ak\n        global.BMap = {}\n        global.BMap._preloader = new Promise((resolve, reject) => {\n          global._initBaiduMap = function () {\n            resolve(global.BMap)\n            global.document.body.removeChild($script)\n            global.BMap._preloader = null\n            global._initBaiduMap = null\n          }\n          const $script = document.createElement('script')\n          global.document.body.appendChild($script)\n          $script.src = `https://api.map.baidu.com/api?v=2.0&ak=${ak}&callback=_initBaiduMap`\n        })\n        return global.BMap._preloader\n      } else if (!global.BMap._preloader) {\n        return Promise.resolve(global.BMap)\n      } else {\n        return global.BMap._preloader\n      }\n    },\n    reset () {\n      const {getMapScript, initMap} = this\n      getMapScript()\n        .then(initMap)\n    }\n  },\n  mounted () {\n    this.reset()\n  },\n  data () {\n    return {\n      hasBmView: false\n    }\n  }\n}\n</script>\n"]}]}