{"remainingRequest":"/Users/huangweiji/Desktop/code/git_project/-Dragon-Boat-Festival/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangweiji/Desktop/code/git_project/-Dragon-Boat-Festival/node_modules/vue-baidu-map/components/search/Driving.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huangweiji/Desktop/code/git_project/-Dragon-Boat-Festival/node_modules/vue-baidu-map/components/search/Driving.vue","mtime":1639105456327},{"path":"/Users/huangweiji/Desktop/code/git_project/-Dragon-Boat-Festival/node_modules/babel-loader/lib/index.js","mtime":1639105455772},{"path":"/Users/huangweiji/Desktop/code/git_project/-Dragon-Boat-Festival/node_modules/cache-loader/dist/cjs.js","mtime":1639105455449},{"path":"/Users/huangweiji/Desktop/code/git_project/-Dragon-Boat-Festival/node_modules/vue-loader/lib/index.js","mtime":1639105455859}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y3JlYXRlUG9pbnR9IGZyb20gJy4uL2Jhc2UvZmFjdG9yeS5qcycKaW1wb3J0IHtpc1BvaW50LCBnZXRQb3NpdGlvbn0gZnJvbSAnLi4vYmFzZS91dGlsLmpzJwppbXBvcnQgY29tbW9uTWl4aW4gZnJvbSAnLi4vYmFzZS9taXhpbnMvY29tbW9uLmpzJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdibS1kcml2aW5nJywKICBtaXhpbnM6IFtjb21tb25NaXhpbignc2VhcmNoJyldLAogIHByb3BzOiB7CiAgICBsb2NhdGlvbjogewogICAgICB0eXBlOiBbT2JqZWN0LCBTdHJpbmddCiAgICB9LAogICAgc3RhcnQ6IHsKICAgICAgdHlwZTogW09iamVjdCwgU3RyaW5nXQogICAgfSwKICAgIGVuZDogewogICAgICB0eXBlOiBbT2JqZWN0LCBTdHJpbmddCiAgICB9LAogICAgc3RhcnRDaXR5OiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0KICAgIH0sCiAgICBlbmRDaXR5OiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0KICAgIH0sCiAgICB3YXlwb2ludHM6IHsKICAgICAgdHlwZTogQXJyYXkKICAgIH0sCiAgICBwb2xpY3k6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgcGFuZWw6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGF1dG9WaWV3cG9ydDogewogICAgICB0eXBlOiBCb29sZWFuCiAgICB9LAogICAgc2VsZWN0Rmlyc3RSZXN1bHQ6IHsKICAgICAgdHlwZTogQm9vbGVhbgogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGxvY2F0aW9uOiB7CiAgICAgIGhhbmRsZXIgKHZhbCkgewogICAgICAgIGNvbnN0IHtvcmlnaW5JbnN0YW5jZSwgbWFwfSA9IHRoaXMKICAgICAgICBvcmlnaW5JbnN0YW5jZS5zZXRMb2NhdGlvbih2YWwgfHwgbWFwKQogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgc3RhcnQ6IHsKICAgICAgaGFuZGxlciAodmFsKSB7CiAgICAgICAgY29uc3Qge29yaWdpbkluc3RhbmNlLCBlbmQsIHN0YXJ0Q2l0eSwgZW5kQ2l0eSwgd2F5cG9pbnRzLCBCTWFwLCBnZXRXYXlwb2ludHN9ID0gdGhpcwogICAgICAgIG9yaWdpbkluc3RhbmNlLnNlYXJjaChnZXRQb3NpdGlvbihCTWFwLCB2YWwpLCBnZXRQb3NpdGlvbihCTWFwLCBlbmQpLCB7CiAgICAgICAgICBzdGFydENpdHksCiAgICAgICAgICBlbmRDaXR5LAogICAgICAgICAgd2F5cG9pbnRzOiBnZXRXYXlwb2ludHMod2F5cG9pbnRzKQogICAgICAgIH0pCiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0sCiAgICBlbmQ6IHsKICAgICAgaGFuZGxlciAodmFsKSB7CiAgICAgICAgY29uc3Qge29yaWdpbkluc3RhbmNlLCBzdGFydCwgc3RhcnRDaXR5LCBlbmRDaXR5LCB3YXlwb2ludHMsIEJNYXAsIGdldFdheXBvaW50c30gPSB0aGlzCiAgICAgICAgb3JpZ2luSW5zdGFuY2Uuc2VhcmNoKGdldFBvc2l0aW9uKEJNYXAsIHN0YXJ0KSwgZ2V0UG9zaXRpb24oQk1hcCwgdmFsKSwgewogICAgICAgICAgc3RhcnRDaXR5LAogICAgICAgICAgZW5kQ2l0eSwKICAgICAgICAgIHdheXBvaW50czogZ2V0V2F5cG9pbnRzKHdheXBvaW50cykKICAgICAgICB9KQogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgc3RhcnRDaXR5ICh2YWwpIHsKICAgICAgY29uc3Qge29yaWdpbkluc3RhbmNlLCBzdGFydCwgZW5kLCBlbmRDaXR5LCB3YXlwb2ludHMsIGdldFdheXBvaW50c30gPSB0aGlzCiAgICAgIG9yaWdpbkluc3RhbmNlLnNlYXJjaChzdGFydCwgZW5kLCB7CiAgICAgICAgdmFsLAogICAgICAgIGVuZENpdHksCiAgICAgICAgd2F5cG9pbnRzOiBnZXRXYXlwb2ludHMod2F5cG9pbnRzKQogICAgICB9KQogICAgfSwKICAgIGVuZENpdHkgKHZhbCkgewogICAgICBjb25zdCB7b3JpZ2luSW5zdGFuY2UsIHN0YXJ0LCBlbmQsIHN0YXJ0Q2l0eSwgd2F5cG9pbnRzLCBnZXRXYXlwb2ludHN9ID0gdGhpcwogICAgICBvcmlnaW5JbnN0YW5jZS5zZWFyY2goc3RhcnQsIGVuZCwgewogICAgICAgIHN0YXJ0Q2l0eSwKICAgICAgICB2YWwsCiAgICAgICAgd2F5cG9pbnRzOiBnZXRXYXlwb2ludHMod2F5cG9pbnRzKQogICAgICB9KQogICAgfSwKICAgIHdheXBvaW50czogewogICAgICBoYW5kbGVyICh2YWwpIHsKICAgICAgICBjb25zdCB7b3JpZ2luSW5zdGFuY2UsIHN0YXJ0LCBlbmQsIHN0YXJ0Q2l0eSwgZW5kQ2l0eSwgZ2V0V2F5cG9pbnRzfSA9IHRoaXMKICAgICAgICBvcmlnaW5JbnN0YW5jZS5zZWFyY2goc3RhcnQsIGVuZCwgewogICAgICAgICAgc3RhcnRDaXR5LAogICAgICAgICAgZW5kQ2l0eSwKICAgICAgICAgIHdheXBvaW50czogZ2V0V2F5cG9pbnRzKHZhbCkKICAgICAgICB9KQogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgcGFuZWwgKCkgewogICAgICB0aGlzLnJlbG9hZCgpCiAgICB9LAogICAgcG9saWN5ICh2YWwpIHsKICAgICAgdGhpcy5yZWxvYWQoKQogICAgfSwKICAgIGF1dG9WaWV3cG9ydCAoKSB7CiAgICAgIHRoaXMucmVsb2FkKCkKICAgIH0sCiAgICBzZWxlY3RGaXJzdFJlc3VsdCAoKSB7CiAgICAgIHRoaXMucmVsb2FkKCkKICAgIH0sCiAgICBoaWdobGlnaHRNb2RlICgpIHsKICAgICAgdGhpcy5yZWxvYWQoKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2VhcmNoIChzdGFydCwgZW5kLCB7c3RhcnRDaXR5LCBlbmRDaXR5LCB3YXlwb2ludHN9KSB7CiAgICAgIGNvbnN0IHtvcmlnaW5JbnN0YW5jZSwgZ2V0V2F5cG9pbnRzfSA9IHRoaXMKICAgICAgb3JpZ2luSW5zdGFuY2Uuc2VhcmNoKHN0YXJ0LCBlbmQsIHsKICAgICAgICBzdGFydENpdHksCiAgICAgICAgZW5kQ2l0eSwKICAgICAgICB3YXlwb2ludHM6IGdldFdheXBvaW50cyh3YXlwb2ludHMpCiAgICAgIH0pCiAgICB9LAogICAgZ2V0V2F5cG9pbnRzICh3YXlwb2ludHMpIHsKICAgICAgY29uc3Qge0JNYXB9ID0gdGhpcwogICAgICBpZiAod2F5cG9pbnRzKSB7CiAgICAgICAgcmV0dXJuIHdheXBvaW50cy5tYXAocG9zaXRpb24gPT4gZ2V0UG9zaXRpb24oQk1hcCwgcG9zaXRpb24pKQogICAgICB9CiAgICB9LAogICAgbG9hZCAoKSB7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcwogICAgICBjb25zdCB7bWFwLCBCTWFwLCBsb2NhdGlvbiwgcG9saWN5LCBzZWxlY3RGaXJzdFJlc3VsdCwgYXV0b1ZpZXdwb3J0LCBoaWdobGlnaHRNb2RlLCBzZWFyY2gsIHN0YXJ0LCBlbmQsIHN0YXJ0Q2l0eSwgZW5kQ2l0eSwgd2F5cG9pbnRzLCBvcmlnaW5JbnN0YW5jZSwgZ2V0V2F5cG9pbnRzfSA9IHRoaXMKICAgICAgY29uc3QgX2xvY2F0aW9uID0gbG9jYXRpb24gPyBpc1BvaW50KGxvY2F0aW9uKSA/IGNyZWF0ZVBvaW50KEJNYXAsIGxvY2F0aW9uKSA6IGxvY2F0aW9uIDogbWFwCiAgICAgIGNvbnN0IHJvdXRlID0gdGhpcy5vcmlnaW5JbnN0YW5jZSA9IG5ldyBCTWFwLkRyaXZpbmdSb3V0ZShfbG9jYXRpb24sIHsKICAgICAgICByZW5kZXJPcHRpb25zOiB7CiAgICAgICAgICBtYXAsCiAgICAgICAgICAvLyBwYW5lbDogcGFuZWwgJiYgdGhpcy4kZWwsCiAgICAgICAgICBwYW5lbDogdGhpcy4kZWwsCiAgICAgICAgICBzZWxlY3RGaXJzdFJlc3VsdCwKICAgICAgICAgIGF1dG9WaWV3cG9ydCwKICAgICAgICAgIGhpZ2hsaWdodE1vZGUKICAgICAgICB9LAogICAgICAgIHBvbGljeTogZ2xvYmFsW3BvbGljeV0sCiAgICAgICAgb25TZWFyY2hDb21wbGV0ZSAoZSkgewogICAgICAgICAgaWYgKG9yaWdpbkluc3RhbmNlICYmIG9yaWdpbkluc3RhbmNlICE9PSByb3V0ZSkgewogICAgICAgICAgICBvcmlnaW5JbnN0YW5jZS5jbGVhclJlc3VsdHMoKQogICAgICAgICAgfQogICAgICAgICAgaW5zdGFuY2UuJGVtaXQoJ3NlYXJjaGNvbXBsZXRlJywgZSkKICAgICAgICB9LAogICAgICAgIG9uTWFya2Vyc1NldCAoZSkgewogICAgICAgICAgaW5zdGFuY2UuJGVtaXQoJ21hcmtlcnNzZXQnLCBlKQogICAgICAgIH0sCiAgICAgICAgb25JbmZvSHRtbFNldCAoZSkgewogICAgICAgICAgaW5zdGFuY2UuJGVtaXQoJ2luZm9odG1sc2V0JywgZSkKICAgICAgICB9LAogICAgICAgIG9uUG9seWxpbmVzU2V0IChlKSB7CiAgICAgICAgICBpbnN0YW5jZS4kZW1pdCgncG9seWxpbmVzc2V0JywgZSkKICAgICAgICB9LAogICAgICAgIG9uUmVzdWx0c0h0bWxTZXQgKGUpIHsKICAgICAgICAgIGluc3RhbmNlLiRlbWl0KCdyZXN1bHRzaHRtbHNldCcsIGUpCiAgICAgICAgfQogICAgICB9KQogICAgICBzZWFyY2goZ2V0UG9zaXRpb24oQk1hcCwgc3RhcnQpLCBnZXRQb3NpdGlvbihCTWFwLCBlbmQpLCB7CiAgICAgICAgc3RhcnRDaXR5LAogICAgICAgIGVuZENpdHksCiAgICAgICAgd2F5cG9pbnRzOiBnZXRXYXlwb2ludHMod2F5cG9pbnRzKQogICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["Driving.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Driving.vue","sourceRoot":"node_modules/vue-baidu-map/components/search","sourcesContent":["<template>\n<div v-show=\"panel\">\n  <slot></slot>\n</div>\n</template>\n\n<script>\nimport {createPoint} from '../base/factory.js'\nimport {isPoint, getPosition} from '../base/util.js'\nimport commonMixin from '../base/mixins/common.js'\n\nexport default {\n  name: 'bm-driving',\n  mixins: [commonMixin('search')],\n  props: {\n    location: {\n      type: [Object, String]\n    },\n    start: {\n      type: [Object, String]\n    },\n    end: {\n      type: [Object, String]\n    },\n    startCity: {\n      type: [String, Number]\n    },\n    endCity: {\n      type: [String, Number]\n    },\n    waypoints: {\n      type: Array\n    },\n    policy: {\n      type: String\n    },\n    panel: {\n      type: Boolean,\n      default: true\n    },\n    autoViewport: {\n      type: Boolean\n    },\n    selectFirstResult: {\n      type: Boolean\n    }\n  },\n  watch: {\n    location: {\n      handler (val) {\n        const {originInstance, map} = this\n        originInstance.setLocation(val || map)\n      },\n      deep: true\n    },\n    start: {\n      handler (val) {\n        const {originInstance, end, startCity, endCity, waypoints, BMap, getWaypoints} = this\n        originInstance.search(getPosition(BMap, val), getPosition(BMap, end), {\n          startCity,\n          endCity,\n          waypoints: getWaypoints(waypoints)\n        })\n      },\n      deep: true\n    },\n    end: {\n      handler (val) {\n        const {originInstance, start, startCity, endCity, waypoints, BMap, getWaypoints} = this\n        originInstance.search(getPosition(BMap, start), getPosition(BMap, val), {\n          startCity,\n          endCity,\n          waypoints: getWaypoints(waypoints)\n        })\n      },\n      deep: true\n    },\n    startCity (val) {\n      const {originInstance, start, end, endCity, waypoints, getWaypoints} = this\n      originInstance.search(start, end, {\n        val,\n        endCity,\n        waypoints: getWaypoints(waypoints)\n      })\n    },\n    endCity (val) {\n      const {originInstance, start, end, startCity, waypoints, getWaypoints} = this\n      originInstance.search(start, end, {\n        startCity,\n        val,\n        waypoints: getWaypoints(waypoints)\n      })\n    },\n    waypoints: {\n      handler (val) {\n        const {originInstance, start, end, startCity, endCity, getWaypoints} = this\n        originInstance.search(start, end, {\n          startCity,\n          endCity,\n          waypoints: getWaypoints(val)\n        })\n      },\n      deep: true\n    },\n    panel () {\n      this.reload()\n    },\n    policy (val) {\n      this.reload()\n    },\n    autoViewport () {\n      this.reload()\n    },\n    selectFirstResult () {\n      this.reload()\n    },\n    highlightMode () {\n      this.reload()\n    }\n  },\n  methods: {\n    search (start, end, {startCity, endCity, waypoints}) {\n      const {originInstance, getWaypoints} = this\n      originInstance.search(start, end, {\n        startCity,\n        endCity,\n        waypoints: getWaypoints(waypoints)\n      })\n    },\n    getWaypoints (waypoints) {\n      const {BMap} = this\n      if (waypoints) {\n        return waypoints.map(position => getPosition(BMap, position))\n      }\n    },\n    load () {\n      const instance = this\n      const {map, BMap, location, policy, selectFirstResult, autoViewport, highlightMode, search, start, end, startCity, endCity, waypoints, originInstance, getWaypoints} = this\n      const _location = location ? isPoint(location) ? createPoint(BMap, location) : location : map\n      const route = this.originInstance = new BMap.DrivingRoute(_location, {\n        renderOptions: {\n          map,\n          // panel: panel && this.$el,\n          panel: this.$el,\n          selectFirstResult,\n          autoViewport,\n          highlightMode\n        },\n        policy: global[policy],\n        onSearchComplete (e) {\n          if (originInstance && originInstance !== route) {\n            originInstance.clearResults()\n          }\n          instance.$emit('searchcomplete', e)\n        },\n        onMarkersSet (e) {\n          instance.$emit('markersset', e)\n        },\n        onInfoHtmlSet (e) {\n          instance.$emit('infohtmlset', e)\n        },\n        onPolylinesSet (e) {\n          instance.$emit('polylinesset', e)\n        },\n        onResultsHtmlSet (e) {\n          instance.$emit('resultshtmlset', e)\n        }\n      })\n      search(getPosition(BMap, start), getPosition(BMap, end), {\n        startCity,\n        endCity,\n        waypoints: getWaypoints(waypoints)\n      })\n    }\n  }\n}\n</script>\n"]}]}